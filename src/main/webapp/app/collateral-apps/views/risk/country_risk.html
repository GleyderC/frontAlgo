<div class="portlet light" ng-controller="CountryRiskController as CountryRiskCtrl">
    <script type="text/ng-template" id="country_risk_expandable.html">
        <div ui-grid="row.entity.subGridOptions" style="height:120px;"></div>
    </script>
    <div class="portlet light bordered" style="padding: 12px 7px 15px 7px;">
        <div class="row">
            <div class="form-group col-md-4">
                <label class="col-sm-12 col-md-4 control-label">Legal Entity Point Of View</label>
                <div class="col-md-8">
                    <ui-select ng-model="legalEntityPO.selected" ng-change="filterIssuerRisk()" theme="select2" class="input-medium">
                        <ui-select-match placeholder="Select an option...">{{$select.selected.name}}
                        </ui-select-match>
                        <ui-select-choices repeat="legalEntityPO in legalEntitiesPO | filter: {name: $select.search, otherName: $select.search}">
                            <div ng-bind-html="legalEntityPO.name | highlight: $select.search"></div>
                            <small>OtherName:
                                <span ng-bind-html="''+legalEntityPO.otherName | highlight: $select.search"></span>
                            </small>
                        </ui-select-choices>
                    </ui-select>

                </div>
            </div>

            <div class="form-group col-md-4">
                <label class="col-sm-12 col-md-4 control-label">Filter By CounterParty</label>
                <div class="col-md-8">
                    <ui-select ng-model="legalEntityCounterParty.selected" ng-change="filterIssuerRisk()" theme="select2" class="input-medium">
                        <ui-select-match placeholder="Select an option...">{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices
                                repeat="legalEntityCounterParty in legalEntitiesCounterParty | filter: {name: $select.search, otherName: $select.search} ">
                            <div ng-bind-html="legalEntityCounterParty.name | highlight: $select.search"></div>
                            <small>
                                otherName: <span
                                    ng-bind-html="''+legalEntityCounterParty.otherName | highlight: $select.search"></span>
                            </small>
                        </ui-select-choices>
                    </ui-select>

                </div>
            </div>

            <div class="form-group col-md-4">
                <label class="col-sm-12 col-md-3 centered control-label">Currency</label>
                <div class="col-md-9">
                    <ui-select ng-model="currency.selected" theme="select2" class="input-medium" ng-change="filterIssuerRisk()">
                        <ui-select-match placeholder="Select an option...">{{$select.selected.name}}
                        </ui-select-match>
                        <ui-select-choices repeat="currency in currencies | filter: $select.search">
                            <div ng-bind-html="currency.name | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>

                </div>
            </div>
        </div>
        <div class="row">
            <fieldset>
                <label class="col-sm-12 col-md-offset-3 col-md-1 control-label">Country Risk</label>
                <div class="col-sm-12 col-md-8">
                    <div class="mt-checkbox-inline">
                        <label class="mt-checkbox mt-checkbox-outline">
                            <input type="checkbox" id="sovereign" ng-model="sovereign" ng-click="filterIssuerRisk()"> Sovereign
                            <span></span>
                        </label>
                        <label class="mt-checkbox mt-checkbox-outline">
                            <input type="checkbox" id="public" ng-model="public" ng-click="filterIssuerRisk()"> Public
                            <span></span>
                        </label>
                        <label class="mt-checkbox mt-checkbox-outline">
                            <input type="checkbox" id="corporate" ng-model="corporate" ng-click="filterIssuerRisk()"> Corporate
                            <span></span>
                        </label>
                    </div>
                </div>
            </fieldset>

        </div>
        <split-pane class="country_risk">

            <split-pane-component width="50%" class="col-sm-12" style="padding-left: 7px;padding-right: 7px;">
                <div class="portlet-body">
                    <div id="country_risk_map" class="col-md-6 country_risk_map" style="float: left; margin: 0;"></div>
                </div>
            </split-pane-component>

            <split-pane-divider width="5px"></split-pane-divider>

            <split-pane-component class="col-sm-12" style="padding-left: 2px;padding-right: 2px;">
                <div class="row" style="margin-left: 10px;margin-right: 10px;">
                    <div class="portlet-body">
                        <div class="col-md-12" id="info">
                            <span class="f32" style="float: left;">
                                <span id="flag"></span>
                                <span id="flag_name" style="vertical-align: -5px;padding-left: 5px;font-weight:bold;"></span>
                            </span>
                        </div>
                        <div class="col-md-12" style="padding: 0px">
                            <div id="grid_country_risk" ui-grid="gridCountryRiskOptions" ui-grid-exporter
                                 ui-grid-auto-resize ui-grid-resize-columns ui-grid-pagination ui-grid-expandable class="grid"></div>
                        </div>
                    </div>
                </div>
            </split-pane-component>
        </split-pane>
    </div>
</div>