<div class="portlet light" ng-controller="IssuerRiskController as IssuerCtrl">
    <div class="portlet light bordered">
        <div class="row">
            <div class="form-group col-md-4">
                <label class="col-sm-12 col-md-4 control-label">Legal Entity Point Of View</label>
                <div class="col-md-8">
                    <ui-select ng-model="legalEntityPO.selected" ng-change="filterIssuerRisk()" theme="select2" class="input-medium">
                        <ui-select-match placeholder="Select an option...">{{$select.selected.name}}
                        </ui-select-match>
                        <ui-select-choices repeat="legalEntityPO in legalEntitiesPO | filter: {name: $select.search, otherName: $select.search}">
                            <div ng-bind-html="legalEntityPO.name | highlight: $select.search"></div>
                            <small>OtherName:
                                <span ng-bind-html="''+legalEntityPO.otherName | highlight: $select.search"></span>
                            </small>
                        </ui-select-choices>
                    </ui-select>

                </div>
            </div>

            <div class="form-group col-md-4">
                <label class="col-sm-12 col-md-4 control-label">Filter By CounterParty</label>
                <div class="col-md-8">
                    <ui-select ng-model="legalEntityCounterParty.selected" ng-change="filterIssuerRisk()" theme="select2" class="input-medium">
                        <ui-select-match placeholder="Select an option...">{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices
                                repeat="legalEntityCounterParty in legalEntitiesCounterParty | filter: {name: $select.search, otherName: $select.search} ">
                            <div ng-bind-html="legalEntityCounterParty.name | highlight: $select.search"></div>
                            <small>
                                otherName: <span
                                    ng-bind-html="''+legalEntityCounterParty.otherName | highlight: $select.search"></span>
                            </small>
                        </ui-select-choices>
                    </ui-select>

                </div>
            </div>

            <div class="form-group col-md-4">
                <label class="col-sm-12 col-md-3 centered control-label">Currency</label>
                <div class="col-md-9">
                    <ui-select ng-model="currency.selected" theme="select2" class="input-medium" ng-change="filterIssuerRisk()">
                        <ui-select-match placeholder="Select an option...">{{$select.selected.name}}
                        </ui-select-match>
                        <ui-select-choices repeat="currency in currencies | filter: $select.search">
                            <div ng-bind-html="currency.name | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="issuer_map_chart col-sm-12 col-md-4" id="gchart_pie_posted"></div>
            <div class="issuer_map_chart col-sm-12 col-md-4" id="gchart_pie_received"></div>
            <div class="issuer_map_chart col-sm-12 col-md-4" id="gchart_pie_available"></div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div id="grid_issuer_risk" ui-grid="gridIssuerRiskOptions" ui-grid-exporter
                     ui-grid-auto-resize ui-grid-resize-columns ui-grid-selection ui-grid-pagination class="grid"></div>
            </div>
        </div>
    </div>
</div>
